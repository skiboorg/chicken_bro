(globalThis["webpackChunkchicken_bro"]=globalThis["webpackChunkchicken_bro"]||[]).push([[356],{6356:(e,l,t)=>{"use strict";t.r(l),t.d(l,{default:()=>D});var a=t(9835),n=t(499),o=t(4874),s=t.n(o),i=t(6928),u=t(8339),c=t(1569),r=t(7270);const d=e=>((0,a.dD)("data-v-a1585f68"),e=e(),(0,a.Cn)(),e),v={class:"row full-height-vh"},m={class:"col-12 col-sm-6 flex column items-center justify-center"},p={class:"table flex column items-center justify-center relative-position"},g={key:0,class:""},x=d((()=>(0,a._)("p",{class:"text-negative text-ub text-outline text-body1"},"Адрес кошелька RUPAY",-1))),w=d((()=>(0,a._)("p",{class:"text-negative text-ub text-outline text-body1"},"Ваш E-mail",-1))),b=d((()=>(0,a._)("p",{class:"text-negative text-ub text-outline text-body1"},"Реферальный код",-1))),_={class:"col-12 col-sm-6 flex flex-center"},f={class:"menu"},h=d((()=>(0,a._)("p",{class:"text-ub text-negative login-btn text-outline text-center text-h5"},"регистрация",-1))),k=d((()=>(0,a._)("img",{class:"noimg",src:s(),alt:""},null,-1))),y=[k],S={__name:"Register",setup(e){(0,i.t)();const l=(0,u.tv)();r.d;let t=(0,n.iH)({wallet:null,password:null,email:null,reffer_code:null});const o=(0,n.iH)(!1),s=(0,n.iH)(!1);let d=(0,n.iH)({email_re:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,is_loading:!1,isPwd:!0});const k=()=>{t.value.email=t.value.email.toLowerCase()};async function S(){s.value=!s.value;const e=await c.api.post("/api/user/check_address",{wallet:t.value.wallet});console.log(e.data),e.data.success?o.value=!0:(0,r.d)("negative",e.data.message),console.log(d.value.email_re.test(String(t.value.email))),d.value.email_re.test(String(t.value.email))?o.value=!0:((0,r.d)("negative","Адрес E-mail некоректный"),o.value=!1),s.value=!s.value}async function U(e){s.value=!s.value,t.value.password=e,k(),console.log(t.value.password),c.api.post("/auth/users/",{email:t.value.email,password:t.value.password,wallet:t.value.wallet,reffer_code:t.value.reffer_code}).then((e=>{(0,r.d)("positive","Регистрация прошла успешно"),l.push("/login")})).catch((e=>{e.response&&(0,r.d)("negative",JSON.stringify(e.response.data))})),s.value=!s.value}return(e,l)=>{const i=(0,a.up)("q-spinner"),u=(0,a.up)("q-inner-loading"),c=(0,a.up)("q-input"),r=(0,a.up)("pin-code"),d=(0,a.up)("q-page");return(0,a.wg)(),(0,a.j4)(d,null,{default:(0,a.w5)((()=>[(0,a.Wm)(u,{dark:"",showing:s.value,class:"z-max"},{default:(0,a.w5)((()=>[(0,a.Wm)(i,{size:"50px",color:"negative"})])),_:1},8,["showing"]),(0,a._)("div",v,[(0,a._)("div",m,[(0,a._)("div",p,[o.value?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("div",g,[x,(0,a.Wm)(c,{clearable:"",outlined:"","bg-color":"white",color:"negative",class:"full-width q-mb-md",modelValue:(0,n.SU)(t).wallet,"onUpdate:modelValue":l[0]||(l[0]=e=>(0,n.SU)(t).wallet=e)},null,8,["modelValue"]),w,(0,a.Wm)(c,{clearable:"",outlined:"","bg-color":"white",color:"negative",class:"full-width q-mb-md",modelValue:(0,n.SU)(t).email,"onUpdate:modelValue":l[1]||(l[1]=e=>(0,n.SU)(t).email=e)},null,8,["modelValue"]),b,(0,a.Wm)(c,{clearable:"",outlined:"","bg-color":"white",color:"negative",class:"full-width q-mb-md",modelValue:(0,n.SU)(t).reffer_code,"onUpdate:modelValue":l[2]||(l[2]=e=>(0,n.SU)(t).reffer_code=e)},null,8,["modelValue"]),(0,n.SU)(t).wallet?((0,a.wg)(),(0,a.iD)("p",{key:0,onClick:S,class:"text-ub text-positive next-btn text-outline text-center text-h5 text-button"},"ДАЛЕЕ")):(0,a.kq)("",!0)])),o.value?((0,a.wg)(),(0,a.j4)(r,{key:1,showDigits:!0,onPincode_ready:U})):(0,a.kq)("",!0)])]),(0,a._)("div",_,[(0,a._)("div",f,[h,(0,a._)("p",{onClick:l[3]||(l[3]=l=>e.$router.back()),class:"text-ub text-negative reg-btn text-outline text-center text-h5 text-button"},y)])])])])),_:1})}}};var U=t(1639),q=t(9885),V=t(854),Z=t(3940),C=t(9828),W=t(9984),j=t.n(W);const z=(0,U.Z)(S,[["__scopeId","data-v-a1585f68"]]),D=z;j()(S,"components",{QPage:q.Z,QInnerLoading:V.Z,QSpinner:Z.Z,QInput:C.Z})},4874:(e,l,t)=>{e.exports=t.p+"img/arrow_r.5f4ca0fe.png"}}]);