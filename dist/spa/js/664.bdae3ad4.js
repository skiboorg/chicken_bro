"use strict";(globalThis["webpackChunkchicken_bro"]=globalThis["webpackChunkchicken_bro"]||[]).push([[664],{1664:(e,t,a)=>{a.r(t),a.d(t,{default:()=>_e});var l=a(9835),s=a(6928),o=a(499),u=a(1569),i=a(6970),n=a(1345),c=a(7270);const d=e=>((0,l.dD)("data-v-71b3219a"),e=e(),(0,l.Cn)(),e),r={class:"table"},m={class:"row q-col-gutter-md"},p={class:"col-12 col-sm-7"},v={class:"text-ub text-negative text-body1 text-outline text-center"},x=d((()=>(0,l._)("p",{class:"text-ub text-white text-body1 q-mb-xs text-outline-dark"},"Может вмещать в себе одновременно до",-1))),_={class:"text-ub text-white q-mb-xs text-outline-dark"},g={class:"text-ub text-white q-mb-xs text-outline-dark"},b={class:"text-ub text-white q-mb-xs text-outline-dark"},w={class:"text-ub text-white q-mb-xs text-outline-dark"},h={class:"text-ub text-white q-mb-xs text-outline-dark"},k={class:"text-ub text-white q-mb-xs text-outline-dark"},f={key:0},q=["onClick"],W={key:1,class:"text-ub text-negative text-h6 text-outline"},Z={key:1},C=["onClick"],V={class:"col-12 col-sm-5"},y={class:"arrows"},Q={__name:"Build",setup(e){const t=(0,n.a)(),a=(0,s.t)(),d=(0,o.iH)(0),Q=(0,o.iH)(!1);async function U(e){Q.value=!Q.value;const t=await u.api.post("/api/data/buy",{item:"chick_house",id:e});t.data.status?(0,c.d)("positive",t.data.message):(0,c.d)("negative",t.data.message),await a.getUser(),Q.value=!Q.value,t.data.success}return(e,a)=>{const s=(0,l.up)("q-btn"),u=(0,l.up)("q-img"),n=(0,l.up)("q-carousel-slide"),c=(0,l.up)("q-carousel"),Q=(0,l.up)("q-carousel-control"),D=(0,l.up)("q-dialog"),$=(0,l.Q2)("close-popup");return(0,l.wg)(),(0,l.j4)(D,{modelValue:(0,o.SU)(t).build_modal_visible,"onUpdate:modelValue":a[4]||(a[4]=e=>(0,o.SU)(t).build_modal_visible=e),maximized:e.$q.screen.lt.md},{default:(0,l.w5)((()=>[(0,l._)("div",r,[(0,l._)("p",{onClick:a[0]||(a[0]=t=>e.$refs.carousel.next()),class:"title text-ub text-outline text-negative no-margin text-center text-h6"},"Что будем строить?"),(0,l.wy)((0,l.Wm)(s,{icon:"close",flat:e.$q.screen.gt.md,color:"negative",round:"",class:"close-btn"},null,8,["flat"]),[[$]]),(0,l.Wm)(c,{modelValue:d.value,"onUpdate:modelValue":a[1]||(a[1]=e=>d.value=e),"transition-prev":"scale","transition-next":"scale",swipeable:"",animated:"",class:"slider",ref:"carousel",infinite:""},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)((0,o.SU)(t).shop.chick_houses,((t,a)=>((0,l.wg)(),(0,l.j4)(n,{name:a,key:a},{default:(0,l.w5)((()=>[(0,l._)("div",m,[(0,l._)("div",p,[(0,l._)("p",v,(0,i.zw)(t.name),1),x,(0,l._)("p",_,(0,i.zw)(t.max_incubators)+" инкубаторов",1),(0,l._)("p",g,(0,i.zw)(t.max_chicks)+" цыплят",1),(0,l._)("p",b,(0,i.zw)(t.max_broiler)+" бройлеров",1),(0,l._)("p",w,(0,i.zw)(t.max_chickens)+" куриц",1),(0,l._)("p",h,(0,i.zw)(t.max_cocks)+" петухов",1),(0,l._)("p",k,"Стоимость "+(0,i.zw)(t.price),1),e.$auth.user.chick_house?((0,l.wg)(),(0,l.iD)("div",f,[e.$auth.user.chick_house.id!==t.id&&parseFloat(t.price)-parseFloat(e.$auth.user.chick_house.price)>0?((0,l.wg)(),(0,l.iD)("p",{key:0,onClick:e=>U(t.id),class:"text-ub text-negative text-h6 text-outline text-button"},"Обновить за "+(0,i.zw)(parseFloat(t.price)-parseFloat(e.$auth.user.chick_house.price)),9,q)):((0,l.wg)(),(0,l.iD)("p",W,"Построен"))])):((0,l.wg)(),(0,l.iD)("div",Z,[(0,l._)("p",{onClick:e=>U(t.id),class:"text-ub text-negative text-h6 text-outline text-button"}," Построить за "+(0,i.zw)(t.price),9,C)]))]),(0,l._)("div",V,[(0,l.Wm)(u,{src:t.shop_image},null,8,["src"])])])])),_:2},1032,["name"])))),128))])),_:1},8,["modelValue"]),(0,l._)("div",y,[(0,l.Wm)(Q,{position:"bottom-right",offset:[50,10],class:"q-gutter-md"},{default:(0,l.w5)((()=>[(0,l.Wm)(s,{push:"",round:"",dense:"",color:"negative","text-color":"white",icon:"arrow_left",onClick:a[2]||(a[2]=t=>e.$refs.carousel.previous())}),(0,l.Wm)(s,{push:"",round:"",dense:"",color:"negative","text-color":"white",icon:"arrow_right",onClick:a[3]||(a[3]=t=>e.$refs.carousel.next())})])),_:1})])])])),_:1},8,["modelValue","maximized"])}}};var U=a(1639),D=a(2074),$=a(963),z=a(960),H=a(1694),I=a(335),j=a(33),S=a(2146),F=a(9984),B=a.n(F);const T=(0,U.Z)(Q,[["__scopeId","data-v-71b3219a"]]),A=T;B()(Q,"components",{QDialog:D.Z,QBtn:$.Z,QCarousel:z.Z,QCarouselSlide:H.Z,QImg:I.Z,QCarouselControl:j.Z}),B()(Q,"directives",{ClosePopup:S.Z});const M=e=>((0,l.dD)("data-v-180109c1"),e=e(),(0,l.Cn)(),e),P={class:"table"},K={class:"flex items-center justify-between text-center"},O=M((()=>(0,l._)("p",{class:"text-white text-ub"}," Сколько Вы хотите вывести ",-1))),Y={class:"text-center"},E={__name:"Sell",setup(e){const t=(0,n.a)(),a=(0,s.t)(),i=(0,o.iH)(null),d=(0,o.iH)(!1),r=((0,o.iH)(null),"1048580");async function m(){d.value=!d.value;const e=await u.api.post("/api/user/sell",{amount:i.value,asset_id:r});e.data.status?(0,c.d)("positive",e.data.message):(0,c.d)("negative",e.data.message),await a.getUser(),d.value=!d.value,i.value=0,t.toggle_sell_modal()}return(e,a)=>{const s=(0,l.up)("q-input"),u=(0,l.up)("q-btn"),n=(0,l.up)("q-dialog");return(0,l.wg)(),(0,l.j4)(n,{modelValue:(0,o.SU)(t).sell_modal_visible,"onUpdate:modelValue":a[1]||(a[1]=e=>(0,o.SU)(t).sell_modal_visible=e)},{default:(0,l.w5)((()=>[(0,l._)("div",P,[(0,l._)("div",K,[O,(0,l.Wm)(s,{"bg-color":"white",color:"negative",class:"full-width q-mb-md",dense:"",outlined:"",modelValue:i.value,"onUpdate:modelValue":a[0]||(a[0]=e=>i.value=e)},null,8,["modelValue"]),(0,l._)("div",Y,[(0,l.Wm)(u,{onClick:m,autofocus:"",loading:d.value,disable:parseFloat(i.value)>parseFloat(e.$auth.user.balance),class:"text-ub text-h6 text-outline text-negative","no-caps":"",unelevated:"",flat:"",label:"Вывести"},null,8,["loading","disable"])])])])])),_:1},8,["modelValue"])}}};var G=a(9828);const J=(0,U.Z)(E,[["__scopeId","data-v-180109c1"]]),L=J;B()(E,"components",{QDialog:D.Z,QInput:G.Z,QBtn:$.Z});var N=a(3703);const R=e=>((0,l.dD)("data-v-9e550c00"),e=e(),(0,l.Cn)(),e),X={class:"table"},ee=R((()=>(0,l._)("p",{class:"text-white text-outline-dark text-ub"},[(0,l.Uk)("Чтобы начать разводить курей, тебе нужен курятник и инкубатор, в котором будут вылупляться цыплята. Хорошая новость в том, что курятник уже построен, и инкубатор там тоже есть, вот это удача, он не самый лучший, но на первое время сойдет."),(0,l._)("br"),(0,l._)("br"),(0,l.Uk)(" На будущее, улучшить курятник ты можешь нажав на кнопку строительство, а купить новый инкубатор на сельской фермерской ярмарке."),(0,l._)("br"),(0,l._)("br"),(0,l.Uk)("А сейчас зайди в курятник и проверь все ли готово для закупки первых яиц, для этого нажми на курятник. И если инкубатор на месте, иди на сельскую ярмарку и купи свои первые яйца!")],-1))),te={class:"text-right"},ae={__name:"IndexTutorial",setup(e){const t=(0,o.iH)(!0);function a(){N.Z.set("index_tutorial",!0),t.value=!1}return(0,l.wF)((()=>{let e=N.Z.getItem("index_tutorial");console.log(e),t.value=!e})),(e,s)=>{const o=(0,l.up)("q-btn"),u=(0,l.up)("q-dialog");return(0,l.wg)(),(0,l.j4)(u,{modelValue:t.value,"onUpdate:modelValue":s[0]||(s[0]=e=>t.value=e),persistent:""},{default:(0,l.w5)((()=>[(0,l._)("div",X,[ee,(0,l._)("div",te,[(0,l.Wm)(o,{onClick:a,class:"text-ub text-h6 text-outline text-negative","no-caps":"",unelevated:"",flat:"",label:"Начать игру"})])])])),_:1},8,["modelValue"])}}},le=(0,U.Z)(ae,[["__scopeId","data-v-9e550c00"]]),se=le;B()(ae,"components",{QDialog:D.Z,QBtn:$.Z});const oe={class:"lt-md text-right q-pa-md"},ue={class:"drawer-grid"},ie=(0,l._)("div",{class:"text-h6"},'Введите адрес e-mail, указанный при регистрации в проекте "Avrora"',-1),ne={components:{BuildModal:A,SellModal:L,IndexTutorial:se}},ce=Object.assign(ne,{__name:"Index",setup(e){const t=(0,s.t)(),a=(0,o.iH)(!1),i=(0,o.iH)(!1),n=(0,o.iH)(null),c=(0,o.iH)(!1);async function d(){a.value=!0,await u.api.post("/api/user/update",{update_avrora:!0,avrora_email:n.value}),await t.getUser(),i.value=!1,a.value=!1}return(0,l.wF)((async()=>{await t.getUser(),t.user.eggs.filter((e=>5===e.egg.id)).length>0&&!t.user.avrora_email&&(i.value=!0)})),(e,t)=>{const s=(0,l.up)("q-btn"),o=(0,l.up)("top-bar"),u=(0,l.up)("shop-btn"),r=(0,l.up)("build-btn"),m=(0,l.up)("friends-btn"),p=(0,l.up)("book"),v=(0,l.up)("money-table"),x=(0,l.up)("q-drawer"),_=(0,l.up)("chick-house"),g=(0,l.up)("q-card-section"),b=(0,l.up)("q-input"),w=(0,l.up)("q-card-actions"),h=(0,l.up)("q-card"),k=(0,l.up)("q-dialog"),f=(0,l.up)("q-page");return(0,l.wg)(),(0,l.j4)(f,{class:"game"},{default:(0,l.w5)((()=>[(0,l._)("div",oe,[(0,l.Wm)(s,{round:"",unelevated:"",color:"negative",icon:"menu",onClick:t[0]||(t[0]=e=>c.value=!0)})]),(0,l.Wm)(x,{modelValue:c.value,"onUpdate:modelValue":t[1]||(t[1]=e=>c.value=e),side:"right",bordered:"",width:350},{default:(0,l.w5)((()=>[(0,l.Wm)(o),(0,l._)("div",ue,[(0,l.Wm)(u),(0,l.Wm)(r),(0,l.Wm)(m),(0,l.Wm)(p)]),(0,l.Wm)(v)])),_:1},8,["modelValue"]),e.$q.screen.gt.sm?((0,l.wg)(),(0,l.j4)(o,{key:0})):(0,l.kq)("",!0),(0,l.Wm)(_),(0,l.Wm)(u,{class:"gt-sm"}),(0,l.Wm)(r,{class:"gt-sm"}),(0,l.Wm)(m,{class:"gt-sm"}),e.$q.screen.gt.sm?((0,l.wg)(),(0,l.j4)(p,{key:1})):(0,l.kq)("",!0),(0,l.Wm)(v,{class:"gt-sm"}),(0,l.Wm)(se),(0,l.Wm)(k,{modelValue:i.value,"onUpdate:modelValue":t[3]||(t[3]=e=>i.value=e),persistent:""},{default:(0,l.w5)((()=>[(0,l.Wm)(h,{style:{width:"700px","max-width":"80vw"}},{default:(0,l.w5)((()=>[(0,l.Wm)(g,null,{default:(0,l.w5)((()=>[ie])),_:1}),(0,l.Wm)(g,{class:"q-pt-none"},{default:(0,l.w5)((()=>[(0,l.Wm)(b,{modelValue:n.value,"onUpdate:modelValue":t[2]||(t[2]=e=>n.value=e),outlined:""},null,8,["modelValue"])])),_:1}),(0,l.Wm)(w,{align:"right"},{default:(0,l.w5)((()=>[(0,l.Wm)(s,{flat:"",label:"Сохранить",loading:a.value,onClick:d,disable:!n.value,type:"submit","no-caps":"",color:"primary"},null,8,["loading","disable"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,l.Wm)(A),(0,l.Wm)(L)])),_:1})}}});var de=a(9885),re=a(906),me=a(4458),pe=a(3190),ve=a(1821);const xe=ce,_e=xe;B()(ce,"components",{QPage:de.Z,QBtn:$.Z,QDrawer:re.Z,QDialog:D.Z,QCard:me.Z,QCardSection:pe.Z,QInput:G.Z,QCardActions:ve.Z})}}]);