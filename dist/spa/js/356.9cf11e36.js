"use strict";(globalThis["webpackChunkchicken_bro"]=globalThis["webpackChunkchicken_bro"]||[]).push([[356],{6356:(e,l,a)=>{a.r(l),a.d(l,{default:()=>U});var t=a(9835),s=a(499),o=a(6928),n=a(8339),i=a(1569),u=a(7270);const c={class:"container"},r={class:"row full-height-vh"},d={class:"col-12 col-sm-6 offset-3 flex column items-center justify-start justify-md-center"},m={class:"register-menu"},p={key:0,class:"first-step"},v=(0,t._)("p",{class:"text-negative text-ub text-outline text-caption q-mb-xs q-mt-md"},"Адрес кошелька RUPAY",-1),g=(0,t._)("p",{class:"q-mb-xs text-negative text-ub text-outline text-caption"},"Реферальный код",-1),w=(0,t._)("p",{class:"text-ub text-positive text-outline text-center text-h5 no-margin"},"Далее",-1),f={__name:"Register",setup(e){(0,o.t)();const l=(0,n.tv)();u.d;let a=(0,s.iH)({wallet:null,password:null,email:"test@test.com",reffer_code:null});const f=(0,s.iH)(!1),h=(0,s.iH)(!1);let _=(0,s.iH)({email_re:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,is_loading:!1,isPwd:!0});const b=()=>{a.value.email=a.value.email.toLowerCase()};async function x(){h.value=!h.value;const e=await i.api.post("/api/user/check_address",{wallet:a.value.wallet});console.log(e.data.success),e.data.success?_.value.email_re.test(String(a.value.email))?f.value=!0:((0,u.d)("negative","Адрес E-mail некоректный"),f.value=!1):(0,u.d)(e.data.color,e.data.message),h.value=!h.value}async function q(e){h.value=!h.value,a.value.password=e,b(),console.log(a.value.password),i.api.post("/auth/users/",{email:a.value.email,password:a.value.password,wallet:a.value.wallet,reffer_code:a.value.reffer_code}).then((e=>{(0,u.d)("positive","Регистрация прошла успешно"),l.push("/login")})).catch((e=>{e.response&&(0,u.d)("negative",JSON.stringify(e.response.data))})),h.value=!h.value}return(e,l)=>{const o=(0,t.up)("q-spinner"),n=(0,t.up)("q-inner-loading"),i=(0,t.up)("q-input"),u=(0,t.up)("q-btn"),_=(0,t.up)("pin-code"),b=(0,t.up)("q-page");return(0,t.wg)(),(0,t.j4)(b,null,{default:(0,t.w5)((()=>[(0,t.Wm)(n,{dark:"",showing:h.value,class:"z-max"},{default:(0,t.w5)((()=>[(0,t.Wm)(o,{size:"50px",color:"negative"})])),_:1},8,["showing"]),(0,t._)("div",c,[(0,t._)("div",r,[(0,t._)("div",d,[(0,t._)("div",m,[f.value?(0,t.kq)("",!0):((0,t.wg)(),(0,t.iD)("div",p,[v,(0,t.Wm)(i,{dense:"",clearable:"",outlined:"","bg-color":"white",color:"negative",class:"full-width q-mb-md q-mb-sm-xs",modelValue:(0,s.SU)(a).wallet,"onUpdate:modelValue":l[0]||(l[0]=e=>(0,s.SU)(a).wallet=e)},null,8,["modelValue"]),g,(0,t.Wm)(i,{dense:"",clearable:"",outlined:"","bg-color":"white",color:"negative",class:"full-width q-mb-md q-mb-sm-xs",modelValue:(0,s.SU)(a).reffer_code,"onUpdate:modelValue":l[1]||(l[1]=e=>(0,s.SU)(a).reffer_code=e)},null,8,["modelValue"]),(0,s.SU)(a).wallet?((0,t.wg)(),(0,t.j4)(u,{key:0,onClick:x,glossy:"",rounded:"",color:"positive",push:"",class:"q-mt-md"},{default:(0,t.w5)((()=>[w])),_:1})):(0,t.kq)("",!0)])),f.value?((0,t.wg)(),(0,t.j4)(_,{key:1,showDigits:!0,onPincode_ready:q})):(0,t.kq)("",!0)])])])])])),_:1})}}};var h=a(9885),_=a(854),b=a(3902),x=a(2547),q=a(7065),k=a(9984),y=a.n(k);const S=f,U=S;y()(f,"components",{QPage:h.Z,QInnerLoading:_.Z,QSpinner:b.Z,QInput:x.Z,QBtn:q.Z})}}]);