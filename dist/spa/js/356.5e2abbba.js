(globalThis["webpackChunkchicken_bro"]=globalThis["webpackChunkchicken_bro"]||[]).push([[356],{6356:(e,t,l)=>{"use strict";l.r(t),l.d(t,{default:()=>D});var a=l(9835),s=l(499),n=l(4874),o=l.n(n),i=l(6928),u=l(8339),c=l(1569),d=l(7270);const r=e=>((0,a.dD)("data-v-5780ebd3"),e=e(),(0,a.Cn)(),e),v={class:"container"},m={class:"row full-height-vh"},p={class:"col-6 flex column items-center justify-start justify-md-center"},g={class:"table flex column items-center justify-center relative-position"},x={key:0,class:""},w=r((()=>(0,a._)("p",{class:"text-negative text-ub text-outline text-body1"},"Адрес кошелька RUPAY",-1))),b=r((()=>(0,a._)("p",{class:"text-negative text-ub text-outline text-body1"},"Ваш E-mail",-1))),_=r((()=>(0,a._)("p",{class:"text-negative text-ub text-outline text-body1"},"Реферальный код",-1))),f={class:"col-6 flex flex-center"},h={class:"menu"},k=r((()=>(0,a._)("p",{class:"text-ub text-negative login-btn text-outline text-center text-h5"},"регистрация",-1))),q=r((()=>(0,a._)("img",{class:"noimg",src:o(),alt:""},null,-1))),y=[q],U={__name:"Register",setup(e){(0,i.t)();const t=(0,u.tv)();d.d;let l=(0,s.iH)({wallet:null,password:null,email:null,reffer_code:null});const n=(0,s.iH)(!1),o=(0,s.iH)(!1);let r=(0,s.iH)({email_re:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,is_loading:!1,isPwd:!0});const q=()=>{l.value.email=l.value.email.toLowerCase()};async function U(){o.value=!o.value;const e=await c.api.post("/api/user/check_address",{wallet:l.value.wallet});console.log(e.data.success),e.data.success?r.value.email_re.test(String(l.value.email))?n.value=!0:((0,d.d)("negative","Адрес E-mail некоректный"),n.value=!1):(0,d.d)(e.data.color,e.data.message),o.value=!o.value}async function S(e){o.value=!o.value,l.value.password=e,q(),console.log(l.value.password),c.api.post("/auth/users/",{email:l.value.email,password:l.value.password,wallet:l.value.wallet,reffer_code:l.value.reffer_code}).then((e=>{(0,d.d)("positive","Регистрация прошла успешно"),t.push("/login")})).catch((e=>{e.response&&(0,d.d)("negative",JSON.stringify(e.response.data))})),o.value=!o.value}return(e,t)=>{const i=(0,a.up)("q-spinner"),u=(0,a.up)("q-inner-loading"),c=(0,a.up)("q-input"),d=(0,a.up)("pin-code"),r=(0,a.up)("q-page");return(0,a.wg)(),(0,a.j4)(r,null,{default:(0,a.w5)((()=>[(0,a.Wm)(u,{dark:"",showing:o.value,class:"z-max"},{default:(0,a.w5)((()=>[(0,a.Wm)(i,{size:"50px",color:"negative"})])),_:1},8,["showing"]),(0,a._)("div",v,[(0,a._)("div",m,[(0,a._)("div",p,[(0,a._)("div",g,[n.value?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("div",x,[w,(0,a.Wm)(c,{dense:e.$q.screen.lt.md,clearable:"",outlined:"","bg-color":"white",color:"negative",class:"full-width q-mb-md",modelValue:(0,s.SU)(l).wallet,"onUpdate:modelValue":t[0]||(t[0]=e=>(0,s.SU)(l).wallet=e)},null,8,["dense","modelValue"]),b,(0,a.Wm)(c,{dense:e.$q.screen.lt.md,clearable:"",outlined:"","bg-color":"white",color:"negative",class:"full-width q-mb-md",modelValue:(0,s.SU)(l).email,"onUpdate:modelValue":t[1]||(t[1]=e=>(0,s.SU)(l).email=e)},null,8,["dense","modelValue"]),_,(0,a.Wm)(c,{dense:e.$q.screen.lt.md,clearable:"",outlined:"","bg-color":"white",color:"negative",class:"full-width q-mb-md",modelValue:(0,s.SU)(l).reffer_code,"onUpdate:modelValue":t[2]||(t[2]=e=>(0,s.SU)(l).reffer_code=e)},null,8,["dense","modelValue"]),(0,s.SU)(l).wallet?((0,a.wg)(),(0,a.iD)("p",{key:0,onClick:U,class:"text-ub text-positive next-btn text-outline text-center text-h5 text-button"},"ДАЛЕЕ")):(0,a.kq)("",!0)])),n.value?((0,a.wg)(),(0,a.j4)(d,{key:1,showDigits:!0,onPincode_ready:S})):(0,a.kq)("",!0)])]),(0,a._)("div",f,[(0,a._)("div",h,[k,(0,a._)("p",{onClick:t[3]||(t[3]=t=>e.$router.back()),class:"text-ub text-negative reg-btn text-outline text-center text-h5 text-button"},y)])])])])])),_:1})}}};var S=l(1639),V=l(9885),Z=l(854),C=l(3940),j=l(9828),W=l(9984),$=l.n(W);const z=(0,S.Z)(U,[["__scopeId","data-v-5780ebd3"]]),D=z;$()(U,"components",{QPage:V.Z,QInnerLoading:Z.Z,QSpinner:C.Z,QInput:j.Z})},4874:(e,t,l)=>{e.exports=l.p+"img/arrow_r.5f4ca0fe.png"}}]);