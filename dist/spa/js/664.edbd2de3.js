"use strict";(globalThis["webpackChunkchicken_bro"]=globalThis["webpackChunkchicken_bro"]||[]).push([[664],{1664:(e,t,a)=>{a.r(t),a.d(t,{default:()=>ke});var l=a(9835),s=a(6928),o=a(1345),u=a(499),i=a(1569),n=a(6970),c=a(7270);const d=e=>((0,l.dD)("data-v-40593fcd"),e=e(),(0,l.Cn)(),e),r={class:"table"},m={class:"row q-col-gutter-md"},p={class:"col-12 col-sm-7"},_={class:"text-ub text-negative text-body1 text-outline text-center"},x=d((()=>(0,l._)("p",{class:"text-ub text-white text-body1 q-mb-xs text-outline-dark"},"Может вмещать в себе одновременно до",-1))),v={class:"text-ub text-white q-mb-xs text-outline-dark"},g={class:"text-ub text-white q-mb-xs text-outline-dark"},w={class:"text-ub text-white q-mb-xs text-outline-dark"},b={class:"text-ub text-white q-mb-xs text-outline-dark"},h={class:"text-ub text-white q-mb-xs text-outline-dark"},k={class:"text-ub text-white q-mb-xs text-outline-dark"},f={key:0},q=["onClick"],W={key:1,class:"text-ub text-negative text-h6 text-outline"},U={key:1},y=["onClick"],V={class:"col-12 col-sm-5"},Z={class:"arrows"},C={__name:"Build",setup(e){const t=(0,o.a)(),a=(0,s.t)(),d=(0,u.iH)(0),C=(0,u.iH)(!1);async function Q(e){C.value=!C.value;const t=await i.api.post("/api/data/buy",{item:"chick_house",id:e});t.data.status?(0,c.d)("positive",t.data.message):(0,c.d)("negative",t.data.message),await a.getUser(),C.value=!C.value,t.data.success}return(e,a)=>{const s=(0,l.up)("q-btn"),o=(0,l.up)("q-img"),i=(0,l.up)("q-carousel-slide"),c=(0,l.up)("q-carousel"),C=(0,l.up)("q-carousel-control"),z=(0,l.up)("q-dialog"),S=(0,l.Q2)("close-popup");return(0,l.wg)(),(0,l.j4)(z,{modelValue:(0,u.SU)(t).build_modal_visible,"onUpdate:modelValue":a[4]||(a[4]=e=>(0,u.SU)(t).build_modal_visible=e),maximized:e.$q.screen.lt.md},{default:(0,l.w5)((()=>[(0,l._)("div",r,[(0,l._)("p",{onClick:a[0]||(a[0]=t=>e.$refs.carousel.next()),class:"title text-ub text-outline text-negative no-margin text-center text-h6"},"Что будем строить?"),(0,l.wy)((0,l.Wm)(s,{icon:"close",flat:e.$q.screen.gt.md,color:"negative",round:"",class:"close-btn"},null,8,["flat"]),[[S]]),(0,l.Wm)(c,{modelValue:d.value,"onUpdate:modelValue":a[1]||(a[1]=e=>d.value=e),"transition-prev":"scale","transition-next":"scale",swipeable:"",animated:"",class:"slider",ref:"carousel",infinite:""},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)((0,u.SU)(t).shop.chick_houses,((t,a)=>((0,l.wg)(),(0,l.j4)(i,{name:a,key:a},{default:(0,l.w5)((()=>[(0,l._)("div",m,[(0,l._)("div",p,[(0,l._)("p",_,(0,n.zw)(t.name),1),x,(0,l._)("p",v,(0,n.zw)(t.max_incubators)+" инкубаторов",1),(0,l._)("p",g,(0,n.zw)(t.max_chicks)+" цыплят",1),(0,l._)("p",w,(0,n.zw)(t.max_broiler)+" бройлеров",1),(0,l._)("p",b,(0,n.zw)(t.max_chickens)+" куриц",1),(0,l._)("p",h,(0,n.zw)(t.max_cocks)+" петухов",1),(0,l._)("p",k,"Стоимость "+(0,n.zw)(t.price),1),e.$auth.user.chick_house?((0,l.wg)(),(0,l.iD)("div",f,[e.$auth.user.chick_house.id!==t.id&&parseFloat(t.price)-parseFloat(e.$auth.user.chick_house.price)>0?((0,l.wg)(),(0,l.iD)("p",{key:0,onClick:e=>Q(t.id),class:"text-ub text-negative text-h6 text-outline text-button"}," Обновить за "+(0,n.zw)(parseFloat(t.price)-parseFloat(e.$auth.user.chick_house.price)),9,q)):((0,l.wg)(),(0,l.iD)("p",W,"Построен"))])):((0,l.wg)(),(0,l.iD)("div",U,[(0,l._)("p",{onClick:e=>Q(t.id),class:"text-ub text-negative text-h6 text-outline text-button"}," Построить за "+(0,n.zw)(t.price),9,y)]))]),(0,l._)("div",V,[(0,l.Wm)(o,{src:t.shop_image},null,8,["src"])])])])),_:2},1032,["name"])))),128))])),_:1},8,["modelValue"]),(0,l._)("div",Z,[(0,l.Wm)(C,{position:"bottom-right",offset:[50,10],class:"q-gutter-md"},{default:(0,l.w5)((()=>[(0,l.Wm)(s,{push:"",round:"",dense:"",color:"negative","text-color":"white",icon:"arrow_left",onClick:a[2]||(a[2]=t=>e.$refs.carousel.previous())}),(0,l.Wm)(s,{push:"",round:"",dense:"",color:"negative","text-color":"white",icon:"arrow_right",onClick:a[3]||(a[3]=t=>e.$refs.carousel.next())})])),_:1})])])])),_:1},8,["modelValue","maximized"])}}};var Q=a(1639),z=a(2074),S=a(963),D=a(960),$=a(1694),F=a(335),H=a(33),I=a(2146),j=a(9984),B=a.n(j);const T=(0,Q.Z)(C,[["__scopeId","data-v-40593fcd"]]),A=T;B()(C,"components",{QDialog:z.Z,QBtn:S.Z,QCarousel:D.Z,QCarouselSlide:$.Z,QImg:F.Z,QCarouselControl:H.Z}),B()(C,"directives",{ClosePopup:I.Z});const M=e=>((0,l.dD)("data-v-180109c1"),e=e(),(0,l.Cn)(),e),O={class:"table"},P={class:"flex items-center justify-between text-center"},K=M((()=>(0,l._)("p",{class:"text-white text-ub"}," Сколько Вы хотите вывести ",-1))),L={class:"text-center"},Y={__name:"Sell",setup(e){const t=(0,o.a)(),a=(0,s.t)(),n=(0,u.iH)(null),d=(0,u.iH)(!1),r=((0,u.iH)(null),"1048580");async function m(){d.value=!d.value;const e=await i.api.post("/api/user/sell",{amount:n.value,asset_id:r});e.data.status?(0,c.d)("positive",e.data.message):(0,c.d)("negative",e.data.message),await a.getUser(),d.value=!d.value,n.value=0,t.toggle_sell_modal()}return(e,a)=>{const s=(0,l.up)("q-input"),o=(0,l.up)("q-btn"),i=(0,l.up)("q-dialog");return(0,l.wg)(),(0,l.j4)(i,{modelValue:(0,u.SU)(t).sell_modal_visible,"onUpdate:modelValue":a[1]||(a[1]=e=>(0,u.SU)(t).sell_modal_visible=e)},{default:(0,l.w5)((()=>[(0,l._)("div",O,[(0,l._)("div",P,[K,(0,l.Wm)(s,{"bg-color":"white",color:"negative",class:"full-width q-mb-md",dense:"",outlined:"",modelValue:n.value,"onUpdate:modelValue":a[0]||(a[0]=e=>n.value=e)},null,8,["modelValue"]),(0,l._)("div",L,[(0,l.Wm)(o,{onClick:m,autofocus:"",loading:d.value,disable:parseFloat(n.value)>parseFloat(e.$auth.user.balance),class:"text-ub text-h6 text-outline text-negative","no-caps":"",unelevated:"",flat:"",label:"Вывести"},null,8,["loading","disable"])])])])])),_:1},8,["modelValue"])}}};var E=a(2547);const G=(0,Q.Z)(Y,[["__scopeId","data-v-180109c1"]]),J=G;B()(Y,"components",{QDialog:z.Z,QInput:E.Z,QBtn:S.Z});var N=a(3703);const R={class:"table"},X={style:{"line-height":"150%"},class:"text-grey-9 text-outline text-ub"},ee=(0,l.Uk)(" Поздравляем! Игра завершена! За время игры вы пополнили баланс на : "),te={class:"text-red"},ae=(0,l.Uk)(" монет, Вывели из игры (включая завершающую техническую транзакцию) "),le={class:"text-red"},se=(0,l.Uk)(" монет итого вы заработали "),oe={class:"text-red"},ue=(0,l.Uk)(" ЧикенБро токенов! Мы уже отправили все на ваш кошелек, можете обменять их на OLF! "),ie={__name:"IndexTutorial",setup(e){const t=(0,s.t)(),a=(0,u.iH)(!1);return(0,l.wF)((async()=>{let e=N.Z.getItem("index_tutorial");console.log(e),await t.getUser(),console.log("authStore.user.is_closed"),console.log(t.user.is_closed),a.value=t.user.is_closed})),(e,s)=>{const o=(0,l.up)("q-dialog");return(0,l.wg)(),(0,l.j4)(o,{modelValue:a.value,"onUpdate:modelValue":s[0]||(s[0]=e=>a.value=e),persistent:""},{default:(0,l.w5)((()=>[(0,l._)("div",R,[(0,l._)("p",X,[ee,(0,l._)("span",te,(0,n.zw)((0,u.SU)(t).user.total_income),1),ae,(0,l._)("span",le,(0,n.zw)((0,u.SU)(t).user.total_outcome),1),se,(0,l._)("span",oe,(0,n.zw)(parseFloat((0,u.SU)(t).user.total_outcome)-parseFloat((0,u.SU)(t).user.total_income)),1),ue])])])),_:1},8,["modelValue"])}}},ne=(0,Q.Z)(ie,[["__scopeId","data-v-46a797dc"]]),ce=ne;B()(ie,"components",{QDialog:z.Z});const de={class:"lt-md text-right q-pa-md"},re={class:"drawer-grid"},me=(0,l._)("div",{class:"text-h6"},'Введите адрес e-mail, указанный при регистрации в проекте "Avrora"',-1),pe={components:{BuildModal:A,SellModal:J,IndexTutorial:ce}},_e=Object.assign(pe,{__name:"Index",setup(e){const t=(0,s.t)(),a=(0,o.a)(),n=(0,u.iH)(!1),c=(0,u.iH)(!1),d=(0,u.iH)(null),r=(0,u.iH)(!1);async function m(){n.value=!0,await i.api.post("/api/user/update",{update_avrora:!0,avrora_email:d.value}),await t.getUser(),c.value=!1,n.value=!1}return(0,l.wF)((async()=>{await t.getUser(),await a.get_history()})),(e,t)=>{const a=(0,l.up)("q-btn"),s=(0,l.up)("top-bar"),o=(0,l.up)("shop-btn"),u=(0,l.up)("build-btn"),i=(0,l.up)("friends-btn"),p=(0,l.up)("book"),_=(0,l.up)("money-table"),x=(0,l.up)("q-drawer"),v=(0,l.up)("chick-house"),g=(0,l.up)("farmer-btn"),w=(0,l.up)("q-card-section"),b=(0,l.up)("q-input"),h=(0,l.up)("q-card-actions"),k=(0,l.up)("q-card"),f=(0,l.up)("q-dialog"),q=(0,l.up)("q-page");return(0,l.wg)(),(0,l.j4)(q,{class:"game"},{default:(0,l.w5)((()=>[(0,l._)("div",de,[(0,l.Wm)(a,{round:"",unelevated:"",color:"negative",icon:"menu",onClick:t[0]||(t[0]=e=>r.value=!0)})]),(0,l.Wm)(x,{modelValue:r.value,"onUpdate:modelValue":t[1]||(t[1]=e=>r.value=e),side:"right",bordered:"",width:350},{default:(0,l.w5)((()=>[(0,l.Wm)(s),(0,l._)("div",re,[(0,l.Wm)(o),(0,l.Wm)(u),(0,l.Wm)(i),(0,l.Wm)(p)]),(0,l.Wm)(_)])),_:1},8,["modelValue"]),e.$q.screen.gt.sm?((0,l.wg)(),(0,l.j4)(s,{key:0})):(0,l.kq)("",!0),(0,l.Wm)(v),(0,l.Wm)(o,{class:"gt-sm"}),(0,l.Wm)(u,{class:"gt-sm"}),(0,l.Wm)(i,{class:"gt-sm"}),e.$q.screen.gt.sm?((0,l.wg)(),(0,l.j4)(p,{key:1})):(0,l.kq)("",!0),(0,l.Wm)(_,{class:"gt-sm"}),(0,l.Wm)(g),(0,l.Wm)(ce),(0,l.Wm)(f,{modelValue:c.value,"onUpdate:modelValue":t[3]||(t[3]=e=>c.value=e),persistent:""},{default:(0,l.w5)((()=>[(0,l.Wm)(k,{style:{width:"700px","max-width":"80vw"}},{default:(0,l.w5)((()=>[(0,l.Wm)(w,null,{default:(0,l.w5)((()=>[me])),_:1}),(0,l.Wm)(w,{class:"q-pt-none"},{default:(0,l.w5)((()=>[(0,l.Wm)(b,{modelValue:d.value,"onUpdate:modelValue":t[2]||(t[2]=e=>d.value=e),outlined:""},null,8,["modelValue"])])),_:1}),(0,l.Wm)(h,{align:"right"},{default:(0,l.w5)((()=>[(0,l.Wm)(a,{flat:"",label:"Сохранить",loading:n.value,onClick:m,disable:!d.value,type:"submit","no-caps":"",color:"primary"},null,8,["loading","disable"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,l.Wm)(A),(0,l.Wm)(J)])),_:1})}}});var xe=a(9885),ve=a(906),ge=a(4458),we=a(3190),be=a(1821);const he=_e,ke=he;B()(_e,"components",{QPage:xe.Z,QBtn:S.Z,QDrawer:ve.Z,QDialog:z.Z,QCard:ge.Z,QCardSection:we.Z,QInput:E.Z,QCardActions:be.Z})}}]);